user nginx;
events {
    worker_connections 1000;
}
http {
    upstream svc {
        server auction-service:8080;
    }
    server {
        listen 4000;
        root /www/data;

        location /catalog {
        proxy_pass http://catalog-svc;
        }

        location /auction/{id} {
        proxy_pass http://auction/{id}-svc;
        }

        location / {
            proxy_pass http://svc;
        }
    }
}